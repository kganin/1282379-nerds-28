let feedbackPopup=document.querySelector(".feedback-popup"),feedbackOpen=document.querySelector(".contacts .button"),feedbackClose=document.querySelector(".close-button"),nameField=feedbackPopup.querySelector("[name=name]"),emailField=feedbackPopup.querySelector("[name=email"),feedbackField=feedbackPopup.querySelector("[name=message]"),fields=document.querySelectorAll(".field"),isStorageSupport=!0,storageName="",storageEmail="",slides=document.querySelectorAll(".slide"),dots=document.querySelectorAll(".dot"),index=0;const popupClose=()=>{deleteErr(),feedbackPopup.classList.remove("popup-show"),feedbackPopup.classList.add("popup-close")};try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}feedbackOpen.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("popup-close"),feedbackPopup.classList.add("popup-show"),storageName||storageEmail?(nameField.value=storageName,emailField.value=storageEmail,feedbackField.focus()):storageName?(nameField.value=storageName,emailField.focus()):feedbackField.focus(),feedbackField.value=""}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),popupClose()}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedbackPopup.classList.contains("popup-show")&&(e.preventDefault(),popupClose())});const addErr=()=>{for(let e=0;e<fields.length;e++){let a=fields[e];a.classList.add("feedback-error"),setTimeout(function(){a.classList.remove("feedback-error")},250)}},deleteErr=()=>{for(let e=0;e<fields.length;e++){fields[e].classList.remove("feedback-error")}};function init(){let e=new ymaps.Map("map",{center:[59.93883,30.3201],zoom:16,controls:["zoomControl"]});myPlacemark=new ymaps.Placemark([59.938635,30.323118],{hintContent:"Дизайн-студия Nerds<br>ул. Большая Конюшенная, 19/8, Санкт-Петербург"},{iconLayout:"default#image",iconImageHref:"img/pin.png",iconImageSize:[231,190],iconImageOffset:[-40,-140]}),e.behaviors.disable("scrollZoom"),e.geoObjects.add(myPlacemark)}feedbackPopup.addEventListener("submit",function(e){nameField.value&&emailField.value&&feedbackField.value?isStorageSupport&&(localStorage.setItem("name",nameField.value),localStorage.setItem("email",emailField.value)):(e.preventDefault(),addErr(),feedbackPopup.offsetWidth=feedbackPopup.offsetWidth)}),ymaps.ready(init);let slider=document.querySelector(".features-slider");if(slider){const e=e=>{for(slide of slides)slide.classList.remove("current");slides[e].classList.add("current")},a=e=>{for(dot of dots)dot.classList.remove("current");dots[e].classList.add("current")},t=()=>{index==slides.length-1?o(index=0):o(++index)},o=t=>{e(t),a(t)};dots.forEach((e,a)=>{e.addEventListener("click",()=>{o(index=a),clearInterval(l)})});const l=setInterval(t,2500)}